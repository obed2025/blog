---
import type { InferEntrySchema } from 'astro:content';
import FormattedDate from './FormattedDate.astro';

interface Props {
  id: string;
  data: InferEntrySchema<'blog'>;
}

const { id, data } = Astro.props;
---

<a href={`/${id}`}>
  <img src={data.heroImage} alt="" />
  <div class="data">
    <h5 class="title">{data.title}</h5>
    <FormattedDate date={data.pubDate} />
  </div>
</a>

<style lang="scss">
  @mixin white-color {
    @media (prefers-color-scheme: light) {
      color: white;
    }
  }

  a {
    text-decoration: none;
    position: relative;
    overflow: hidden;
    color: var(--pico-h5-color);

    @media (hover: hover) {
      @include white-color();
    }

    @media (hover: hover) {
      .title {
        --pico-color: var(--pico-h1-color);
        @include white-color();
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
    }

    .data {
      @media (hover: hover) {
        position: absolute;
        background-color: rgb(0, 0, 0, 50%);
        transform: translateY(-100%);
        width: 100%;
        backdrop-filter: blur(15px);
        padding: 0.1rem 0.5rem;
        transition: transform 0.5s ease-in-out;
      }

      @media (hover: none) {
        padding: 0.5rem 0;
      }
    }

    @media (hover: hover) {
      &:hover .data {
        transform: translateY(0%);
      }
    }
  }
</style>
